var TaxExemptionWizardHelper=function(){var n=this;return n.wizardButton=null,n.launcherId=null,n.launcherProxyId=null,n.containerClass=null,n.initialize=function(t,i,r,u,f,e){return(n.launcherId=t,n.containerClass=i,n.messageClass=r,n.isSignedInUser=e,n.wizardDownClass=u,n.certificatesCreatedClass=f,!n.isSignedInUser)?(n.disableWizard(!1),null):(ProcessAjaxGeneric("GET","json",null,"MyAccount","TaxInformation","GetEcwAuthenticationInformation",n.onSuccess,n.onError,null),wizardButton)},n.onSuccess=function(t){var r=!1,i;typeof t!="undefined"&&t!==null&&(typeof t.IsServiceAvailable=="boolean"&&t.IsServiceAvailable===!0&&(r=!0),r&&(n.initializeWizardButton(),i={BuyerCity:"",BuyerEmail:"",BuyerName:"",BuyerPhone:"",BuyerState:"",BuyerStreetAddress:"",BuyerZip:"",BuyerCountry:""},typeof t.BuyerInfo!="undefined"&&t.BuyerInfo!==null&&$.extend(i,t.BuyerInfo),n.wizardButton=new vertex.Wizard({domNode:document.getElementById(n.launcherId),wizardPath:t.WizardUrl,accessToken:t.AccessToken,action:"CREATE",clientId:t.Client,clientCode:t.Client,sellerCodes:[t.SellerCode],buyerCode:t.Id,overrides:[{qId:2,value:i.BuyerName},{qId:3,value:i.BuyerStreetAddress},{qId:4,value:i.BuyerCity},{qId:5,value:i.BuyerState},{qId:6,value:i.BuyerZip},{qId:7,value:i.BuyerCountry},{qId:19,value:i.BuyerEmail},{qId:22,value:i.BuyerPhone}]}),window.addEventListener("message",function(t){t.data&&(window.parent!==window&&window.parent!==null&&window.parent.postMessage(t.data,window.origin),t.data.type==="createdCertificates"&&(n.showMessage(n.certificatesCreatedClass),n.notifyCertificateCreation(t.data,n.isSignedInUser)))})));r?n.enableWizard(!0):n.disableWizard(!0)},n.disableWizard=function(t){$("#"+n.launcherId).addClass("buttonDisabled");t===!0&&$("."+n.wizardDownClass).removeClass("hidden")},n.enableWizard=function(t){$("#"+n.launcherId).removeClass("buttonDisabled");t===!0&&$("."+n.wizardDownClass).addClass("hidden")},n.hideAllMessages=function(){$("."+n.messageClass).hide().addClass("hidden")},n.showMessage=function(t){n.hideAllMessages();$("."+t).removeClass("hidden").show()},n.initializeWizardButton=function(){var t=document.getElementById(n.launcherId);return typeof t=="undefined"||t===null||typeof t.onclick=="function"?null:t},n.onError=function(){$("#"+n.launcherId).addClass("buttonDisabled");$("."+n.wizardDownClass).removeClass("hidden")},n.launchWizard=function(){$("#"+n.launcherId).click()},n.notifyCertificateCreation=function(n,t){ProcessAjaxGeneric("POST","json",{certificates:n,isSignedIn:t},"MyAccount","TaxInformation","CertificatesCreated",function(){console.log("notification successful.")},function(){console.log("notification failed.")},null)},{initialize:n.initialize,launchWizard:n.launchWizard}}();
//# sourceMappingURL=TaxExemptionWizard.min.js.map