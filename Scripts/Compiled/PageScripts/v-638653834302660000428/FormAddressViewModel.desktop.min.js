function InitializeAllEvents(n){UpdateSuiteTextVisibility(n);SetRFCVisibilityForSelectedCountry();$("#"+n+"_SuiteType").change(function(){UpdateSuiteTextVisibility(n);var t=$("#"+n+"_SuiteText").attr("class").split(/\s+/);for(i=0;i<t.length;i++)t[i].length>0&&t[i]=="input-validation-error"&&ValidateSuiteText(n)});$("#"+n+"_SelectedCity").change(function(){$("#"+n+"_City").val($("#"+n+"_SelectedCity").val())});$("#"+n+"_City").blur(function(){ValidateFormAddressCity(n)});$("#"+n+"_City").keypress(function(t){t.keyCode===13&&ValidateFormAddressCity(n)});$("#"+n+"_State").blur(function(){$("#"+n+"_stateMessage").closest(".form-field").find(".info-img").hide();$("#"+n+"_stateMessage").removeClass("field-information").addClass("hidden");ProcessAjaxValidateCityAndState({city:$("#"+n+"_City").val(),state:$("#"+n+"_State").val(),zipCode:$("#"+n+"_ZipCode").val(),country:$("#"+n+"_Country").val(),prefixValue:n},OnSuccessValidateCityAndState,OnErrorValidateCityAndState,!1)});$("#"+n+"_State").keypress(function(t){t.keyCode===13&&($("#"+n+"_stateMessage").closest(".form-field").find(".info-img").hide(),$("#"+n+"_stateMessage").removeClass("field-information").addClass("hidden"),ProcessAjaxValidateCityAndState({city:$("#"+n+"_City").val(),state:$("#"+n+"_State").val(),zipCode:$("#"+n+"_ZipCode").val(),country:$("#"+n+"_Country").val(),prefixValue:n},OnSuccessValidateCityAndState,OnErrorValidateCityAndState,!1))});$("#"+n+"_Country").change(function(){let t=$("#"+n+"_Country").val();setAddressAttributes(t,n);SetRFCVisibilityForSelectedCountry();$("#"+n+"_ZipCode").length&&$("#"+n+"_ZipCode").val().length>0&&($("#"+n+"_ZipCode").val(""),$("#"+n+"_ZipCode").addClass("empty"));removeValidationErrors(n+"_ZipCode",n+".ZipCode");ProcessAjaxCascadingDropDown({selectedItem:$("#"+n+"_Country").val(),prefixValue:n},"State","Helper","GetStatesProvincesForCountry",OnSuccessStatesProvinces,OnErrorStatesProvinces);ValidateAddressPOBox(n);ShippingAddressFormVisibility(n);setKeyBoard($("#"+n+"_Country").val(),n)});$("#"+n+"_Country").keypress(function(t){t.keyCode===13&&(ProcessAjaxCascadingDropDown({selectedItem:$("#"+n+"_Country").val()},"#"+n+"_","State","Helper","GetStatesProvincesForCountry",OnSuccessStatesProvinces,OnErrorStatesProvinces),ValidateAddressPOBox(n))});$("#"+n+"_ZipCode").on("paste",function(){var n=this;setTimeout(function(){var t=$(n).val();t=t.replace(/[`@@~!#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"");t=t.replace("","");$(n).val(t)},100)});$("#"+n+"_ZipCode").blur(function(){OnZipCodeChange(n)});$("#"+n+"_ZipCode").change(function(){OnZipCodeChange(n)});$("#"+n+"_ZipCode").keypress(function(t){if(t.keyCode===13)return $("#"+n+"_ZipCode").blur(),!1})}function setAddressAttributes(n,t){let i=$("#currentCulture").val(),r=i.substring(3);if(t==="FormAddress")switch(n){case"MX":r==="MX"&&($("#FormAddress_AddressLine1").attr("datacountry","MX"),$("#FormAddress_AddressLine1").attr("maxlength","50"),$("#FormAddress_AddressLine2").attr("datacountry","MX"),$("#FormAddress_AddressLine2").attr("maxlength","50"));break;case"CA":$("#FormAddress_AddressLine1").attr("datacountry","CA");$("#FormAddress_AddressLine1").attr("maxlength","30");$("#FormAddress_AddressLine2").attr("datacountry","CA");$("#FormAddress_AddressLine2").attr("maxlength","30");break;default:$("#FormAddress_AddressLine1").attr("datacountry","US");$("#FormAddress_AddressLine1").attr("maxlength","30");$("#FormAddress_AddressLine2").attr("datacountry","US");$("#FormAddress_AddressLine2").attr("maxlength","30")}}function SetRFCVisibilityForSelectedCountry(){$("#FormAddress_Country").find("option:selected").val()==="MX"?$("#RFCField").show():$("#RFCField").hide()}function OnZipCodeChange(n){SetRFCVisibilityForSelectedCountry();clearTimeout(OnZipCodeChange.timeout);OnZipCodeChange.timeout=setTimeout(function(){ProcessZipCodeChangeLogic(n);ProcessAjaxCascadingDropDown({selectedItem:$("#"+n+"_Country").val(),prefixValue:n},"State","Helper","GetStatesProvincesForCountry",OnSuccessStatesProvincesAfterZipCodeUpdate,OnErrorStatesProvinces);let t=$("#"+n+"_Country").val();setAddressAttributes(t,n)},600)}function ProcessZipCodeChangeLogic(n){ValidateZipCode(n);AddressSectionView(n);SetRFCVisibilityForSelectedCountry();ApplyFocusOnPhoneNo(n);typeof ApplyFocusOnPhoneForQrPr!="undefined"&&$.isFunction(ApplyFocusOnPhoneForQrPr)&&ApplyFocusOnPhoneForQrPr(n);n!=="FormAddress"||isCountrySwitchedforFormAddress||(addressAutofillForCountrySpecific($("#"+n+"_Country").val()),$("input[id$='_IsExperianForMobileEnabled']").val().toLowerCase()==="true"?$("#"+n+"_Country").trigger("ExperianCountryChange"):isCountrySwitchedforFormAddress=!0);SetCitySelectedByUser(n);setTimeout(function(){CheckMouseDownEvent()},250)}function UpdateSuiteTextVisibility(n){n="#"+n+"_";$(n+"SuiteType").val()==" "||$(n+"SuiteType").val()==""?($(n+"SuiteText").val(""),$(n+"SuiteText").hide(),$(n+"SuiteTextValidate").hide()):($(n+"SuiteText").show(),$(n+"SuiteTextValidate").show())}function OnSuccessStatesProvinces(n,t){var i="",u,r;if(t!==null&&(i=t.prefixValue),prefix="#"+i+"_",$("label[for="+i+"_ZipCode]").text(n.ExtraData.ZipLabel),$("label[for="+i+"_State]").text(n.ExtraData.StateLabel),$("label[for="+i+"_AddressLine2]").text(n.ExtraData.AddressLine2Label),$.isFunction(UpdateCountryChangeLocal)&&UpdateCountryChangeLocal(n,t),n.ListItems!=null&&n.ListItems.length>0){for(u="",r=0;r<n.ListItems.length;r++)u+="<option value="+n.ListItems[r].Key+">"+n.ListItems[r].Value+"<\/option>";$(prefix+"State").html(u).show();removeValidationErrors(i+"_State",i+".State");$(prefix+"stateMessage").closest(".form-field").find(".info-img").hide();$(prefix+"stateMessage").removeClass("field-information").addClass("hidden")}$("span [id="+i+"_State-error]").length!=0&&$(validatorFor(i+".State")).html('<span id="'+i+'_State-error" class="">'+n.ExtraData.StateErrorMessage+"<\/span>");$("span [id="+i+"_ZipCode-error]").length!=0&&($(prefix+"ZipCode").val().length>0?$("span [id="+i+"_ZipCode-error]").html(n.ExtraData.ZipInvalidErrorMessage):$("span [id="+i+"_ZipCode-error]").html(n.ExtraData.ZipErrorMessage));removeValidationErrors(i+"_AddressLine2",i+".AddressLine2");t.selectedItem==="MX"?($(prefix+"SuiteType").val(" "),$("form").validate().element(prefix+"SuiteText"),$("#"+i+"_addressLine2Required").show()):($("form").validate().element(prefix+"AddressLine2"),$("form").validate().element(prefix+"AddressLine1"),$("#"+i+"_addressLine2Required").hide());$(prefix+"IsSuiteVisible").val()=="True"&&t.selectedItem!=="MX"?$("#"+i+"_divShippingSuite").show():$("#"+i+"_divShippingSuite").hide();$(prefix+"City").val("");$(prefix+"City").show();$(prefix+"City").addClass("empty");$(prefix+"SelectedCity").hide();$(prefix+"SelectedCity").empty();removeValidationErrors(i+"_City",i+".City");$(prefix+"cityMessage").closest(".form-field").find(".info-img").hide();$(prefix+"cityMessage").removeClass("field-information").addClass("hidden")}function OnSuccessStatesProvincesAfterZipCodeUpdate(n,t){var i="";t!==null&&(i=t.prefixValue,prefix="#"+i+"_",$("label[for="+i+"_ZipCode]").text(n.ExtraData.ZipLabel),$("label[for="+i+"_State]").text(n.ExtraData.StateLabel),$("label[for="+i+"_AddressLine2]").text(n.ExtraData.AddressLine2Label),$("span [id="+i+"_ZipCode-error]").length!=0&&($(prefix+"ZipCode").val().length>0?$("span [id="+i+"_ZipCode-error]").html(n.ExtraData.ZipInvalidErrorMessage):$("span [id="+i+"_ZipCode-error]").html(n.ExtraData.ZipErrorMessage)),removeValidationErrors(i+"_AddressLine2",i+".AddressLine2"),t.selectedItem==="MX"?($("#RFCField").show(),$(prefix+"SuiteType").val(" "),$("form").validate().element(prefix+"SuiteText"),$("#"+i+"_addressLine2Required").show()):($("form").validate().element(prefix+"AddressLine2"),$("form").validate().element(prefix+"AddressLine1"),$("#"+i+"_addressLine2Required").hide()),$(prefix+"IsSuiteVisible").val()=="True"&&t.selectedItem!=="MX"?$("#"+i+"_divShippingSuite").show():$("#"+i+"_divShippingSuite").hide())}function OnErrorStatesProvinces(){}function OnSuccessZipPostal(n,t){var i="",r;t!==null&&(i=t.prefixValue);prefix="#"+i+"_";n.ListItems.length>1?($(prefix+"City").removeData("previousValue"),$(prefix+"City").val(n.ExtraData.City),$(prefix+"City").valid(),$(prefix+"City").removeClass("empty"),$(prefix+"City").hide(),$(prefix+"SelectedCity").removeClass("hidden").show(),removeValidationErrors(i+"_City",i+".City")):n.ExtraData.City!=null&&n.ExtraData.City!=""?($(prefix+"City").removeData("previousValue"),$(prefix+"City").val(n.ExtraData.City),$(prefix+"City").valid(),$(prefix+"City").show(),$(prefix+"City").removeClass("empty"),$(prefix+"SelectedCity").hide(),$(prefix+"SelectedCity").empty(),removeValidationErrors(i+"_City",i+".City")):($(prefix+"City").val().length>0&&$(prefix+"City").val(""),$(prefix+"City").show(),$(prefix+"SelectedCity").hide(),$(prefix+"SelectedCity").empty(),$(prefix+"cityMessage").closest(".form-field").find(".info-img").hide(),$(prefix+"cityMessage").removeClass("field-information").addClass("hidden"));n.ExtraData.ZipErrorMessage?(addValidationErrors(i+"_ZipCode",i+".ZipCode",n.ExtraData.ZipErrorMessage),$(prefix+"City").val().length>0&&$(prefix+"City").valid()):removeValidationErrors(i+"_ZipCode",i+".ZipCode");n.IsCountryChanged&&(n.ResultListTwo!=null&&(r="",$.each(n.ResultListTwo,function(n,t){r+="<option value="+n+">"+t+"<\/option>"}),$(prefix+"State").html(r).show()),$("label[for='"+i+"_ZipCode']").text(n.ExtraData.ZipLabel),$("label[for='"+i+"_State']").text(n.ExtraData.StateLabel));$(prefix+"Country").val(n.ExtraData.Country);typeof setKeyBoard!="undefined"&&setKeyBoard(n.ExtraData.Country,i);n.ExtraData.State!=null&&n.ExtraData.State!=""?($(prefix+"State").removeData("previousValue"),$(prefix+"State").val(n.ExtraData.State),$(prefix+"State").valid(),removeValidationErrors(i+"_State",i+".State"),$(prefix+"State").removeClass("empty")):($(prefix+"State").val(""),$(prefix+"State").addClass("empty"),$(prefix+"stateMessage").closest(".form-field").find(".info-img").hide(),$(prefix+"stateMessage").removeClass("field-information").addClass("hidden"),$('span [id="'+i+'_State-error"]').length!=0&&($(prefix+"State").removeData("previousValue"),$(prefix+"State").val(""),$(prefix+"State").valid(),$(validatorFor(i+".State")).html('<span id="'+i+'_State-error" class="">'+n.ExtraData.StateErrorMessage+"<\/span>")));$.isFunction(OnSuccessZipLocal)&&OnSuccessZipLocal(n,t)}function OnErrorZipPostal(){}function ValidateZipCode(n){prefix="#"+n+"_";$(prefix+"stateMessage").closest(".form-field").find(".info-img").hide();$(prefix+"stateMessage").removeClass("field-information").addClass("hidden");$(prefix+"cityMessage").closest(".form-field").find(".info-img").hide();$(prefix+"cityMessage").removeClass("field-information").addClass("hidden");$(prefix+"ValidateZipCountry").val()=="True"?ProcessAjaxCascadingCitiesAndStates({selectedZip:$(prefix+"ZipCode").val(),selectedCountry:$(prefix+"Country").val(),selectedCity:$(prefix+"City").val(),prefixValue:n},n+"_SelectedCity",n+"_State","Helper","GetDataForZipPostalCountry",OnSuccessZipPostal,OnErrorZipPostal,!1):ProcessAjaxCascadingCitiesAndStates({selectedZip:$(prefix+"ZipCode").val(),selectedCountry:$(prefix+"Country").val(),selectedCity:$(prefix+"City").val(),prefixValue:n},n+"_SelectedCity",n+"_State","Helper","GetAllDataForZipPostalCode",OnSuccessZipPostal,OnErrorZipPostal,!1);ValidateAddressPOBox(n)}function ValidateAddressPOBox(n){prefix="#"+n+"_";$(prefix+"ValidatePOBox").val()=="True"&&$(prefix+"AddressLine1").val().length>0&&ProcessAjaxCall({addressLine1:$(prefix+"AddressLine1").val(),country:$(prefix+"Country").val(),prefixValue:n},"","Helper","ValidateAddressPOBox",OnSuccessAddressLine,OnErrorAddressLine);ProcessAjaxCall({state:$(prefix+"State").val(),country:$(prefix+"Country").val(),prefixValue:n},"","Helper","ValidateStateOrProvince",OnSuccessStateOrProvince,OnErrorStateOrProvince)}function OnSuccessAddressLine(n,t){var i="";t!==null&&(i=t.prefixValue);prefix="#"+i+"_";n!=null&&n!="true"?addValidationErrors(i+"_AddressLine1",i+".AddressLine1",n):removeValidationErrors(i+"_AddressLine1",i+".AddressLine1")}function OnErrorAddressLine(){}function OnSuccessStateOrProvince(n,t){var i="";t!==null&&(i=t.prefixValue);prefix="#"+i+"_";n!=null&&n!="true"&&t==null?addValidationErrors(i+"State",i+".State",n):removeValidationErrors(i+"State",i+".State")}function OnErrorStateOrProvince(){console.log("returned failed")}function ValidateSuiteText(n){if(prefix="#"+n+"_",$(prefix+"SuiteType").val()!=" ")$.ajax({url:"/Shared/Helper/ValidateSuiteText",data:{suiteText:$(prefix+"SuiteText").val(),suiteType:$(prefix+"SuiteType").val()},cache:!1,"async":!1,type:"POST",success:function(t){OnSuccessSuiteText(t,n)},error:function(n){OnErrorSuiteText(n)}});else removeValidationErrors(n+"_SuiteText",n+".SuiteText")}function OnSuccessSuiteText(n,t){prefix="#"+t+"_";n!=null&&n!="true"?addValidationErrors(t+"_SuiteText",t+".SuiteText",n):removeValidationErrors(t+"_SuiteText",t+".SuiteText")}function OnErrorSuiteText(){}function ValidateFormAddressCity(n){if(prefix="#"+n+"_",$(prefix+"cityMessage").closest(".form-field").find(".info-img").hide(),$(prefix+"cityMessage").removeClass("field-information").addClass("hidden"),$(prefix+"ZipCode").val().length>0&&$(prefix+"Country").val().length>0)$.ajax({url:"/Shared/Helper/ValidateCityAndStateForZipAndCountry",data:{city:$(prefix+"City").val(),state:$(prefix+"State").val(),zipCode:$(prefix+"ZipCode").val(),country:$(prefix+"Country").val(),prefixValue:n},cache:!1,"async":!1,type:"POST",success:function(t){OnSuccessValidateCityAndState(t,n)},error:function(n){OnErrorValidateCityAndState(n)}})}function OnSuccessValidateCityAndState(n,t){var i="";t!==null&&(i=t.prefixValue!==undefined?t.prefixValue:t);prefix="#"+i+"_";n.updatedCity.length>0&&n.cityMessage.length>0?($(prefix+"City").removeData("previousValue"),$(prefix+"City").val(n.updatedCity),$(prefix+"City").valid(),$(prefix+"City").removeClass("empty"),$(prefix+"cityMessage").find("span").html(n.cityMessage),$(prefix+"cityMessage").closest(".form-field").find(".info-img").show(),$(prefix+"cityMessage").removeClass("hidden").addClass("field-information"),$(validatorFor(i+".City")).removeClass("field-validation-error"),$(validatorFor(i+".City")).addClass("field-validation-valid"),$(prefix+"City").removeClass("input-validation-error").addClass("valid"),typeof UpdateCityShipping!="undefined"&&UpdateCityShipping(i,n.cityMessage)):($(prefix+"cityMessage").closest(".form-field").find(".info-img").hide(),$(prefix+"cityMessage").removeClass("field-information").addClass("hidden"),typeof UpdateCityShipping!="undefined"&&UpdateCityShipping(i,""));n.updatedState.length>0&&n.stateMessage.length>0?($(prefix+"State").removeData("previousValue"),$(prefix+"State").val(n.updatedState),$(prefix+"State").valid(),$(prefix+"stateMessage").find("span").html(n.stateMessage),$(prefix+"stateMessage").closest(".form-field").find(".info-img").show(),$(prefix+"stateMessage").removeClass("hidden").addClass("field-information"),removeValidationErrors(i+"_State",i+".State"),$(prefix+"State").removeClass("empty"),typeof UpdateStateShipping!="undefined"&&UpdateStateShipping(i,n.stateMessage)):(n.stateErrorMessage.length>0&&$(validatorFor(i+".State")).html('<span id="'+i+'_State-error" class="">'+n.stateErrorMessage+"<\/span>"),$(prefix+"stateMessage").closest(".form-field").find(".info-img").hide(),$(prefix+"stateMessage").removeClass("field-information").addClass("hidden"),typeof UpdateStateShipping!="undefined"&&UpdateStateShipping(i,""))}function OnErrorValidateCityAndState(){}function ValidateFormAddressState(n){$("#"+n+"_stateMessage").closest(".form-field").find(".info-img").hide();$("#"+n+"_stateMessage").removeClass("field-information").addClass("hidden");ProcessAjaxValidateCityAndState({city:$("#"+n+"_City").val(),state:$("#"+n+"_State").val(),zipCode:$("#"+n+"_ZipCode").val(),country:$("#"+n+"_Country").val(),prefixValue:n},OnSuccessValidateCityAndState,OnErrorValidateCityAndState,!1)}function setKeyBoard(n,t){n==="CA"?($("#"+t+"_ZipCode").attr("type","text"),$("#"+t+"_ZipCode").removeAttr("pattern")):($("#"+t+"_ZipCode").attr("type","tel"),$("#"+t+"_ZipCode").attr("pattern","[0-9]*"))}function AddressSectionVisibility(){}function AddressSectionView(){}function ShippingAddressFormVisibility(){}function ApplyFocusOnPhoneNo(){}function addressAutofillForCountrySpecific(){}function SetCitySelectedByUser(){}var isCountrySwitchedforFormAddress=!1;$(document).ready(function(){$("#FormAddress_Country").length&&setKeyBoard($("#FormAddress_Country").val(),"FormAddress");$("#ShippingFormAddress_Country").length&&setKeyBoard($("#ShippingFormAddress_Country").val(),"ShippingFormAddress")});
//# sourceMappingURL=FormAddressViewModel.desktop.min.js.map